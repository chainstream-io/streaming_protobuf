syntax = "proto3";

package io.chainstream.v1.dex.pool;

import "common/common.proto";
import "common/dex_pool_processed_event.proto";

message DexPoolEvents {
  repeated DexPoolEvent events = 1;
}

message DexPool {
  string address = 1;
  string token_a_vault_address = 2;
  string token_a_vault_owner_address = 3;
  string token_a_address = 4;
  string token_a_amount = 5;
  string token_a_vault_pre_amount = 6;
  string token_a_vault_post_amount = 7;
  optional uint32 token_a_decimals = 8;


  string token_b_vault_address = 100;
  string token_b_vault_owner_address = 101;
  string token_b_address = 102;
  string token_b_amount = 103;
  string token_b_vault_pre_amount = 104;
  string token_b_vault_post_amount = 105;
  optional uint32 token_b_decimals = 106;

  string lp_wallet = 200;
}

enum DexPoolEventType {
  DEX_POOL_EVENT_TYPE_UNSPECIFIED = 0;
  DEX_POOL_EVENT_TYPE_INITIALIZE = 1;
  DEX_POOL_EVENT_TYPE_INCREASE_LIQUIDITY = 2;
  DEX_POOL_EVENT_TYPE_DECREASE_LIQUIDITY = 3;
  DEX_POOL_EVENT_TYPE_SWAP = 4;
}


message DexPoolEvent {
  io.chainstream.v1.common.Instruction instruction = 1;
  io.chainstream.v1.common.Block block = 2;
  io.chainstream.v1.common.Transaction transaction = 3;
  io.chainstream.v1.common.DApp d_app = 4;

  DexPoolEventType type = 100;
  DexPool pool = 101;

  DexPoolProcessed pool_processed = 200;
}
