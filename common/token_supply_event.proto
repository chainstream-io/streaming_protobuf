syntax = "proto3";

package io.chainstream.v1.token.supply;

import "common/common.proto";
import "common/token_supply_processed_event.proto";

message TokenSupplyEvents {
  repeated TokenSupplyEvent events = 1;
}

message TokenSupply {
  string token_address = 1;
  uint64 amount = 2;
  uint32 decimals = 3;

  string amount_without_decimals = 4;
  string amount_with_decimals = 5;
  string post_amount_with_decimals = 6;
}

enum TokenSupplyEventType {
  TOKEN_SUPPLY_EVENT_TYPE_UNSPECIFIED = 0;
  TOKEN_SUPPLY_EVENT_TYPE_INITIALIZE_MINT = 1;
  TOKEN_SUPPLY_EVENT_TYPE_MINT = 2;
  TOKEN_SUPPLY_EVENT_TYPE_BURN = 3;

  TOKEN_SUPPLY_EVENT_TYPE_INITIALIZE_MINT_FROM_RPC = 99;
}

message TokenSupplyEvent {
  io.chainstream.v1.common.Instruction instruction = 1;
  io.chainstream.v1.common.Block block = 2;
  io.chainstream.v1.common.Transaction transaction = 3;
  io.chainstream.v1.common.DApp d_app = 4;

  TokenSupplyEventType type = 100;
  TokenSupply token_supply = 101;

  MarketCap market_cap = 201;
}